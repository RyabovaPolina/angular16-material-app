<form [formGroup]="recipeForm" (ngSubmit)="onSubmit()" class="recipe-form">
  <mat-card>
    <mat-card-title>{{
      recipeForm.get("id")?.value
        ? "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç"
        : "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç"
    }}</mat-card-title>
    <mat-card-content>
      <div class="name-description-recipe">
        <mat-form-field appearance="fill">
          <mat-label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞</mat-label>
          <input matInput formControlName="title" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>–û–ø–∏—Å–∞–Ω–∏–µ</mat-label>
          <textarea matInput formControlName="description"></textarea>
        </mat-form-field>
      </div>

      <div formArrayName="ingredients">
        <mat-card-subtitle>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</mat-card-subtitle>
        <div
          *ngFor="let ingredient of ingredients.controls; let i = index"
          [formGroupName]="i"
          class="ingredient-group"
        >
          <mat-form-field appearance="fill">
            <mat-label>–ù–∞–∑–≤–∞–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞</mat-label>
            <input matInput formControlName="name" />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</mat-label>
            <input matInput type="number" formControlName="quantity" />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è</mat-label>
            <mat-select formControlName="unit">
              <mat-option *ngFor="let unit of units" [value]="unit">
                {{ unit }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <button mat-fab (click)="removeIngredient(i)">üóëÔ∏è</button>
        </div>
      </div>

      <button mat-raised-button color="primary" (click)="addIngredient()">
        –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
      </button>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        color="accent"
        type="submit"
        [disabled]="!recipeForm.valid"
      >
        {{
          recipeForm.get("id")?.value ? "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" : "–°–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç"
        }}
      </button>
    </mat-card-actions>
  </mat-card>
</form>
